\babel@toc {spanish}{}
\contentsline {chapter}{RECONOCIMIENTOS Y AGRADECIMIENTOS}{\es@scroman {iii}}{chapter*.1}%
\contentsline {chapter}{ÍNDICE GENERAL}{\es@scroman {viii}}{chapter*.2}%
\contentsline {chapter}{LISTA DE FIGURAS}{\es@scroman {xiii}}{chapter*.3}%
\contentsline {chapter}{LISTA DE TABLAS}{\es@scroman {xvi}}{chapter*.4}%
\contentsline {chapter}{LISTA DE ACRÓNIMOS}{\es@scroman {xvii}}{chapter*.5}%
\contentsline {chapter}{INTRODUCCIÓN}{1}{chapter*.6}%
\contentsline {chapter}{CONCEPTUALIZACIÓN DEL PROYECTO}{3}{chapter.1}%
\contentsline {section}{\numberline {1.1}PLANTEAMIENTO DEL PROBLEMA}{3}{section.1.1}%
\contentsline {section}{\numberline {1.2}JUSTIFICACIÓN}{4}{section.1.2}%
\contentsline {section}{\numberline {1.3}OBJETIVO GENERAL}{5}{section.1.3}%
\contentsline {section}{\numberline {1.4}OBJETIVOS ESPECÍFICOS}{5}{section.1.4}%
\contentsline {chapter}{MARCO REFERENCIAL}{6}{chapter.2}%
\contentsline {section}{\numberline {2.1}Fundamentos de medición consumo de energía eléctrica}{6}{section.2.1}%
\contentsline {subsection}{\numberline {2.1.1}Definición}{6}{subsection.2.1.1}%
\contentsline {subsection}{\numberline {2.1.2}Clasificación de los medidores}{7}{subsection.2.1.2}%
\contentsline {subsubsection}{\numberline {2.1.2.1}Según el principio de funcionamiento}{7}{subsubsection.2.1.2.1}%
\contentsline {subsubsection}{\numberline {2.1.2.2}Según su construcción:}{8}{subsubsection.2.1.2.2}%
\contentsline {subsection}{\numberline {2.1.3}Infraestructuras de medición de energía}{9}{subsection.2.1.3}%
\contentsline {subsubsection}{\numberline {2.1.3.1}Red de área local (Home Area Network)}{10}{subsubsection.2.1.3.1}%
\contentsline {subsubsection}{\numberline {2.1.3.2}Red de vecindad (Neighbourhood Area Network)}{11}{subsubsection.2.1.3.2}%
\contentsline {subsubsection}{\numberline {2.1.3.3}Red de área amplia (Wide Area Network)}{11}{subsubsection.2.1.3.3}%
\contentsline {subsection}{\numberline {2.1.4}Normativa aplicada a las redes de medición}{12}{subsection.2.1.4}%
\contentsline {subsubsection}{\numberline {2.1.4.1}Modelo OSI}{13}{subsubsection.2.1.4.1}%
\contentsline {subsubsection}{\numberline {2.1.4.2}GWAC}{15}{subsubsection.2.1.4.2}%
\contentsline {section}{\numberline {2.2}Sobre el protocolo Modbus}{16}{section.2.2}%
\contentsline {subsection}{\numberline {2.2.1}Definiciones}{16}{subsection.2.2.1}%
\contentsline {subsection}{\numberline {2.2.2}Modbus RTU}{16}{subsection.2.2.2}%
\contentsline {subsection}{\numberline {2.2.3}Modbus TCP}{17}{subsection.2.2.3}%
\contentsline {subsection}{\numberline {2.2.4}Algunos beneficios sobre el protocolo Modbus RTU ó TCP}{18}{subsection.2.2.4}%
\contentsline {section}{\numberline {2.3}Redes malladas}{18}{section.2.3}%
\contentsline {subsection}{\numberline {2.3.1}Definición}{18}{subsection.2.3.1}%
\contentsline {subsection}{\numberline {2.3.2}Caracteristicas}{19}{subsection.2.3.2}%
\contentsline {subsubsection}{\numberline {2.3.2.1}Sobre los protocolos de enrutamiento en las redes Malladas}{20}{subsubsection.2.3.2.1}%
\contentsline {subsubsection}{\numberline {2.3.2.2}Direccionamiento por MAC}{20}{subsubsection.2.3.2.2}%
\contentsline {section}{\numberline {2.4}La red mallada ESP-MESH}{21}{section.2.4}%
\contentsline {subsection}{\numberline {2.4.1}Definición}{21}{subsection.2.4.1}%
\contentsline {subsection}{\numberline {2.4.2}Terminología en la ESP-MESH}{23}{subsection.2.4.2}%
\contentsline {subsection}{\numberline {2.4.3}Topología de árbol sobre la red ESP-MESH}{24}{subsection.2.4.3}%
\contentsline {subsection}{\numberline {2.4.4}Tipos de nodos en la red ESP-MESH}{25}{subsection.2.4.4}%
\contentsline {subsection}{\numberline {2.4.5}Señales de reconocimiento y límites de intensidad de señal (RSSI)}{26}{subsection.2.4.5}%
\contentsline {subsection}{\numberline {2.4.6}Tablas de enrutamiento}{27}{subsection.2.4.6}%
\contentsline {section}{\numberline {2.5}Sistema operativo en tiempo real (RTOS)}{29}{section.2.5}%
\contentsline {subsection}{\numberline {2.5.1}FreeRTOS}{30}{subsection.2.5.1}%
\contentsline {subsubsection}{\numberline {2.5.1.1}Tareas}{30}{subsubsection.2.5.1.1}%
\contentsline {subsubsection}{\numberline {2.5.1.2}Colas}{30}{subsubsection.2.5.1.2}%
\contentsline {subsubsection}{\numberline {2.5.1.3}Semáforos}{30}{subsubsection.2.5.1.3}%
\contentsline {subsubsection}{\numberline {2.5.1.4}Grupos de eventos}{31}{subsubsection.2.5.1.4}%
\contentsline {section}{\numberline {2.6}Microcontrolador ESP32}{31}{section.2.6}%
\contentsline {subsection}{\numberline {2.6.1}Descripción}{31}{subsection.2.6.1}%
\contentsline {subsection}{\numberline {2.6.2}Caracteristicas}{32}{subsection.2.6.2}%
\contentsline {subsubsection}{\numberline {2.6.2.1}WiFi}{32}{subsubsection.2.6.2.1}%
\contentsline {subsubsection}{\numberline {2.6.2.2}CPU y Memoria}{32}{subsubsection.2.6.2.2}%
\contentsline {subsubsection}{\numberline {2.6.2.3}Relojes y temporizadores}{33}{subsubsection.2.6.2.3}%
\contentsline {subsubsection}{\numberline {2.6.2.4}Periféricos}{33}{subsubsection.2.6.2.4}%
\contentsline {subsubsection}{\numberline {2.6.2.5}Seguridad}{34}{subsubsection.2.6.2.5}%
\contentsline {chapter}{DEFINICIÓN Y DESCRIPCIÓN DEL HARDWARE}{35}{chapter.3}%
\contentsline {section}{\numberline {3.1}Definición del hardware}{35}{section.3.1}%
\contentsline {section}{\numberline {3.2}Descripción del hardware}{36}{section.3.2}%
\contentsline {subsection}{\numberline {3.2.1}Interfaz de comunicación inalámbrica}{36}{subsection.3.2.1}%
\contentsline {subsection}{\numberline {3.2.2}Interfaz serial con el medidor}{37}{subsection.3.2.2}%
\contentsline {subsubsection}{\numberline {3.2.2.1}Bus serial}{37}{subsubsection.3.2.2.1}%
\contentsline {subsubsection}{\numberline {3.2.2.2}Salida de calibración}{39}{subsubsection.3.2.2.2}%
\contentsline {subsection}{\numberline {3.2.3}Unidad controladora}{40}{subsection.3.2.3}%
\contentsline {subsection}{\numberline {3.2.4}Circuito impreso}{41}{subsection.3.2.4}%
\contentsline {chapter}{DEFINICIÓN Y DESCRIPCIÓN DEL SOFTWARE}{45}{chapter.4}%
\contentsline {section}{\numberline {4.1}Definición del software}{45}{section.4.1}%
\contentsline {section}{\numberline {4.2}Descripción del software}{48}{section.4.2}%
\contentsline {subsection}{\numberline {4.2.1}Modo de configuración}{49}{subsection.4.2.1}%
\contentsline {subsubsection}{\numberline {4.2.1.1}Tablas de particiones en el ESP32}{49}{subsubsection.4.2.1.1}%
\contentsline {subsubsection}{\numberline {4.2.1.2}Interfaz Gráfica de usuario}{51}{subsubsection.4.2.1.2}%
\contentsline {subsection}{\numberline {4.2.2}Modo de operación}{54}{subsection.4.2.2}%
\contentsline {subsubsection}{\numberline {4.2.2.1}La red mallada y el nodo central}{55}{subsubsection.4.2.2.1}%
\contentsline {subsubsection}{\numberline {4.2.2.2}Nodo serial RS485}{59}{subsubsection.4.2.2.2}%
\contentsline {subsubsection}{\numberline {4.2.2.3}Nodo de entrada por pulsos}{61}{subsubsection.4.2.2.3}%
\contentsline {subsubsection}{\numberline {4.2.2.4}Nodo Repetidor}{67}{subsubsection.4.2.2.4}%
\contentsline {subsubsection}{\numberline {4.2.2.5}Otras consideraciones}{68}{subsubsection.4.2.2.5}%
\contentsline {chapter}{PRUEBAS Y RESULTADOS}{69}{chapter.5}%
\contentsline {section}{\numberline {5.1}Resultados de la interfaz gráfica}{69}{section.5.1}%
\contentsline {section}{\numberline {5.2}Prueba de funcionamiento del sistema}{74}{section.5.2}%
\contentsline {subsection}{\numberline {5.2.1}Extracción de datos del nodo contador de pulsos}{76}{subsection.5.2.1}%
\contentsline {subsection}{\numberline {5.2.2}Extracción de datos del nodo RS485}{77}{subsection.5.2.2}%
\contentsline {section}{\numberline {5.3}Prueba de restablecimiento del sistema}{78}{section.5.3}%
\contentsline {subsection}{\numberline {5.3.1}Para el nodo central}{78}{subsection.5.3.1}%
\contentsline {subsection}{\numberline {5.3.2}Para cualquier otro nodo}{79}{subsection.5.3.2}%
\contentsline {chapter}{CONCLUSIONES}{81}{chapter.6}%
\contentsline {chapter}{RECOMENDACIONES}{83}{chapter.7}%
\contentsline {chapter}{Código fuente}{84}{appendix.Alph1}%
\contentsline {chapter}{Datasheet MAX3485}{105}{appendix.Alph2}%
\contentsline {chapter}{REFERENCIAS}{114}{appendix*.7}%
